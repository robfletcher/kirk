package strikt.internal.opentest4j

import org.opentest4j.MultipleFailuresError

internal class CompoundAssertionFailure(
  override val message: String,
  errors: List<Throwable>
) : MultipleFailuresError("", errors) {
  override fun getFailures(): List<Throwable> =
    super.getFailures().flatMap {
      when (it) {
        is CompoundAssertionFailure -> it.failures
        else -> listOf(it)
      }
    }
}
